<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../assets/ico/favicon.ico">

    <title>PhoneGap Day EU Workshop</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/styles.css" rel="stylesheet">



    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-72845162-1', 'auto');
        ga('send', 'pageview');

    </script>
</head>

<body>
<div class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">PhoneGap Day EU Essentials Workshop 2016</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a
                        href="https://github.com/hollyschinsky/spotify-browser"><img
                        src="images/icon-github.png" style="border: none;margin: -4px 0;height: 28px;width: 28px;"/>
                    GitHub
                    Project</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</div>


<div class="container">

<div class="row">

    <div class="col-xs-12 col-sm-8">
        <h1>Module 4&#58; Results Filtering</h1>
        <!--<hr/>-->
        <h3 id="overview">Overview</h3>
<p>In this step we’ll add a [Framework7 Searchbar]((http://framework7.io/docs/searchbar.html) component to our results page to allow the user to search/filter the results with a matching string
entered by the user. This component is used to filter results <em>after</em> they are received.</p>

<p>Below is the result on iOS and Android respectively:</p>

<p><img class="screenshot-md2" src="images/ios-searchbar.png" />
   <img class="screenshot-md2" src="images/android-searchbar.png" /></p>

<h2 id="steps">Steps</h2>
<ol>
  <li>Begin by opening your browser and reviewing the <a href="http://framework7.io/docs/searchbar.html">Framework7 documentation</a> for the <code class="highlighter-rouge">searchbar</code> component.</li>
  <li>
    <p>Open <code class="highlighter-rouge">www/index.html</code> and locate this <code class="highlighter-rouge">results</code> template script tag since we’ll be adding this new component to that page:
         <code class="highlighter-rouge">
         &lt;script type="text/template7" id="results"&gt;
        </code></p>
  </li>
  <li>
    <p>The <code class="highlighter-rouge">searchbar</code> needs to be placed somewhere within a <code class="highlighter-rouge">.page</code> class and just before a <code class="highlighter-rouge">.page-content</code> class. In the results template, locate the <code class="highlighter-rouge">&lt;div&gt;</code> with the <code class="highlighter-rouge">.page</code> class and associated <code class="highlighter-rouge">.navbar</code>. 
Insert the following <code class="highlighter-rouge">searchbar</code> <code class="highlighter-rouge">&lt;form&gt;</code> element which contains an input field with a <code class="highlighter-rouge">clear</code> button just 
before the <code class="highlighter-rouge">&lt;div&gt;</code> with the <code class="highlighter-rouge">.page-content</code> class as shown in the image directly below it:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>   &lt;form class="searchbar"&gt;
       &lt;div class="searchbar-input"&gt;
           &lt;input type="search" placeholder="Search"&gt;
           &lt;a href="#" class="searchbar-clear"&gt;&lt;/a&gt;
       &lt;/div&gt;      
   &lt;/form&gt;
</code></pre>
    </div>
  </li>
</ol>

<p><img class="screenshot2" src="images/search-loc.png" /></p>

<ol>
  <li>
    <p>Next, open the <code class="highlighter-rouge">www/js/myApp.js</code> file and add the following code block just above the <code class="highlighter-rouge">myApp.onPageInit('details', function(page) {..}))</code> function. 
This new function will run when the <code class="highlighter-rouge">results</code> page initializes and will initialize the <code class="highlighter-rouge">searchbar</code> component
with the parameters shown. Each of these parameters is set to a class name that you will apply in the HTML
elements to mark the elements that should be used for each scenario (what list to search, what data to search, 
what to display when found and not found etc):</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>myApp.onPageInit('results', function(page) {
    var mySearchbar = myApp.searchbar('.searchbar', {
        searchList: '.list-block-search',
        searchIn: '.item-content',
        found: '.searchbar-found',
        notFound: 'searchbar-not-found'
    })
})   
</code></pre>
    </div>
  </li>
</ol>

<p><strong>Parameters:</strong>
  -<code class="highlighter-rouge">searchList</code> - the class selector for the list containing the data to search
  -<code class="highlighter-rouge">searchIn</code> - set to the class selector for the content to be searched. Defaults to <code class="highlighter-rouge">.item-title</code> otherwise.
  -<code class="highlighter-rouge">found</code> - the class selector for the element or block to display with the matches found
  -<code class="highlighter-rouge">notFound</code> - the class selector for the element to display in the case where no matches were found</p>

<blockquote>
  <p>These parameters can also be initialized inline the HTML with <code class="highlighter-rouge">data-*</code> attributes. 
  See the <a href="http://framework7.io/docs/pages.html">Framework7 docs on Pages</a> to learn more about the events that can be handled for a page.</p>
</blockquote>

<ol>
  <li>
    <p>Now go back into <code class="highlighter-rouge">www/index.html</code>  and add the <code class="highlighter-rouge">searchbar-found</code> class to the <code class="highlighter-rouge">&lt;div&gt;</code> element containing 
the list block, since it will create a filtered list using those same elements with the matched items:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> &lt;div class="list-block media-list list-block-search searchbar-found"&gt;
</code></pre>
    </div>
  </li>
  <li>
    <p>Next add a new <code class="highlighter-rouge">&lt;div&gt;</code> element to show a message when no results are found, ensuring you specify the same class name you set in the 
searchbar init function. Add this new <code class="highlighter-rouge">&lt;div&gt;</code> just after the searchbar form (class name is ‘searchbar-not-found’ in this case).</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> &lt;div class="content-block searchbar-not-found"&gt;
        No matches found
 &lt;/div&gt;
</code></pre>
    </div>
  </li>
  <li>
    <p>Lastly, add a new <code class="highlighter-rouge">&lt;div&gt;</code> element with the <code class="highlighter-rouge">searchbar-overlay</code> class to enable a dark overlay effect for the page content when the search bar is active. 
Add it just after the <code class="highlighter-rouge">searchbar-not-found</code> <code class="highlighter-rouge">&lt;div&gt;</code> added above.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> &lt;div class="searchbar-overlay"&gt;&lt;/div&gt;
</code></pre>
    </div>
  </li>
</ol>

<h3 id="code-review">Code Review</h3>
<p>The final code block with all the additions should look like this code below:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    &lt;form class="searchbar"&gt;
        &lt;div class="searchbar-input"&gt;
            &lt;input type="search" placeholder="Search"&gt;
            &lt;a href="#" class="searchbar-clear"&gt;&lt;/a&gt;
        &lt;/div&gt;            
    &lt;/form&gt;

    &lt;div class="content-block searchbar-not-found"&gt;
           Nothing found
    &lt;/div&gt;

    &lt;div class="searchbar-overlay"&gt;&lt;/div&gt;
    &lt;div class="page-content"&gt;
      &lt;div class="content-block-title"&gt; tracks returned&lt;/div&gt;
      &lt;div class="list-block media-list list-block-search searchbar-found"&gt;
        &lt;ul&gt;
          {{#each tracks.items}}
</code></pre>
</div>

<div class="row" style="margin-top:40px;">
<div class="col-sm-12">
<a href="lesson3.html" class="btn btn-default"><i class="glyphicon glyphicon-chevron-left"></i> Previous</a>
<a href="lesson5.html" class="btn btn-default pull-right">Next <i class="glyphicon
glyphicon-chevron-right"></i></a>
</div>
</div>



        <!--<div class="row" style="margin-top: 30px;">-->
            <!--<div class="col-xs-12">-->
                <!--<div id="disqus_thread"></div>-->
                <!--<script type="text/javascript">-->
                    <!--/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */-->
                    <!--var disqus_shortname = 'salesforcedeveloperworkshop'; // required: replace example with your forum shortname-->

                    <!--/* * * DON'T EDIT BELOW THIS LINE * * */-->
                    <!--(function() {-->
                        <!--var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;-->
                        <!--dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';-->
                        <!--(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);-->
                    <!--})();-->
                <!--</script>-->
                <!--<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>-->
                <!--<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>-->
            <!--</div>-->
        <!--</div>-->


    </div>

    <div class="col-xs-12 col-sm-4 right-nav">

        <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading" style="font-variant:small-caps;font-size: 18px;">Modules</div>
            <ol class="list-group">
                <li><a href="lesson1.html">Project Setup/PhoneGap Tooling</a></li>
                <li><a href="lesson2.html">App Walkthru</a></li>
                <li><a href="lesson3.html">Handling Offline</a></li>
                <li><a href="lesson4.html">Searchbar Filter</a></li>
                <li><a href="lesson5.html">Add Swipeout Action</a></li>
                <li><a href="lesson6.html">Add Native Share Feature</a></li>
                <li><a href="lesson7.html">Making Your App Feel Native</a></li>
                <li><a href="lesson8.html">Configuring Your App</a></li>
                <li><a href="lesson9.html">Next Steps</a></li>
                <li><a href="lesson10.html">Optional: Remote Debugging</a></li>
            </ol>
            <p></p>
        </div>

<a href="https://twitter.com/share" class="twitter-share-button" data-size="large"
   data-url="http://hollyschinsky.github.io/phonegap-workshop"
   data-text="PhoneGap Tutorial #Cordova #PhoneGap">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<a href="https://twitter.com/devgirlfl" class="twitter-follow-button" data-show-count="true"
   data-size="large" data-lang="en">Follow
    @devgirlfl</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

    </div>

</div>

</div>

<div class="container">
    <div id="footer">
        <a href="http://devgirl.org"><p class="text-muted">Holly Schinsky</p></a>
    </div>
</div>


<script src="lib/jquery.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>
</body>
</html>
