<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../assets/ico/favicon.ico">

    <title>PhoneGap Day EU Workshop</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/styles.css" rel="stylesheet">



    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-72845162-1', 'auto');
        ga('send', 'pageview');

    </script>
</head>

<body>
<div class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">PhoneGap Day EU Essentials Workshop 2016</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a
                        href="https://github.com/hollyschinsky/spotify-browser"><img
                        src="images/icon-github.png" style="border: none;margin: -4px 0;height: 28px;width: 28px;"/>
                    GitHub
                    Project</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</div>


<div class="container">

<div class="row">

    <div class="col-xs-12 col-sm-8">
        <h1>Module 6&#58; Add Native Share Feature</h1>
        <!--<hr/>-->
        <p>In this module we’ll learn how to share a media item with a friend through messaging, email etc using the device’s native sharing features.</p>

<h4 id="ios">iOS</h4>
<p><img class="screenshot-sm" src="images/share0.png" />
<img class="screenshot-sm" src="images/share-ios.png" /></p>

<h4 id="requirements">Requirements:</h4>
<p>Before you can add code to support this feature, you’ll first need to add the [Social Sharing Plugin](https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin
to your project since it is not yet used in the Star Track base app template.</p>

<ol>
  <li>
    <p>Open your temrinal and use the PhoneGap CLI to add it now (the <code class="highlighter-rouge">--save</code> parameter will save the plugin to your <code class="highlighter-rouge">config.xml</code> file):</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>phonegap plugin add cordova-plugin-x-socialsharing --save
</code></pre>
    </div>
  </li>
</ol>

<blockquote>
  <p>Be sure to visit the <a href="https://github.com/apache/cordova-plugin-network-information">Social Sharing Plugin Docs</a> 
to learn about any platform quirks and more things you can do with this plugin. This plugin and many other 
great plugins were written by Eddy Verbruggen and can be found on his GitHub repo.</p>
</blockquote>

<h3 id="steps">Steps</h3>
<p>Prior to this step we added a <code class="highlighter-rouge">swipeout</code> action to the results view with a share button though it doesn’t actually do anything yet. 
In this module we’ll add event handling to this button to trigger the Social Sharing plugin functions.</p>

<ol>
  <li>Open <code class="highlighter-rouge">www/js/my-app.js</code> and locate the page init event handler for the <em>results</em> page (<code class="highlighter-rouge">myApp.onPageInit('results')...</code>).
<br /></li>
  <li>
    <p>Add the following code to handle when a user clicks the <em>share</em> button on the swipeout. You can add it just after the  <code class="highlighter-rouge">searchbar</code> init handling:</p>

    <p>$$(page.container).find(‘.share’).on(‘click’, function (e) {
     var item = page.context.tracks.items[this.dataset.item]</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> if (window.plugins &amp;&amp; window.plugins.socialsharing) {
     window.plugins.socialsharing.share("Hey! I found this on Spotify. It's called " + item.name + ", check it out!",
         'Check this out', item.album.images[2].url, item.preview_url,
         function () {
             console.log("Share Success")
         },
         function (error) {
             console.log("Share fail " + error)
         });
 }
 else myApp.alert("Share plugin not found");  });
</code></pre>
    </div>
  </li>
</ol>

<h2 id="try-it">Try it!</h2>
<p>Try out the button now to make sure you see the share features for your native device (or a message stating the plugin is 
not supported). Remember, this is a 3rd party plugin so you can only test this feature if you’re running from the CLI locally.</p>

<p>It should look something like below when you run it on iOS:</p>

<p><img class="screenshot-sm" src="images/swipeout-ios.png" />
  <img class="screenshot-sm" src="images/share0.png" />
  <img class="screenshot-sm" src="images/share-ios.png" /></p>

<blockquote>
  <p>The options shown in the share menu will depend on your particular devices’ native sharing options.</p>
</blockquote>

<div class="row" style="margin-top:40px;">
 <div class="col-sm-12">
 <a href="lesson5.html" class="btn btn-default"><i class="glyphicon glyphicon-chevron-left"></i> Previous</a>
 <a href="lesson7.html" class="btn btn-default pull-right">Next <i class="glyphicon glyphicon-chevron-right"></i></a>
 </div>
</div>



        <!--<div class="row" style="margin-top: 30px;">-->
            <!--<div class="col-xs-12">-->
                <!--<div id="disqus_thread"></div>-->
                <!--<script type="text/javascript">-->
                    <!--/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */-->
                    <!--var disqus_shortname = 'salesforcedeveloperworkshop'; // required: replace example with your forum shortname-->

                    <!--/* * * DON'T EDIT BELOW THIS LINE * * */-->
                    <!--(function() {-->
                        <!--var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;-->
                        <!--dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';-->
                        <!--(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);-->
                    <!--})();-->
                <!--</script>-->
                <!--<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>-->
                <!--<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>-->
            <!--</div>-->
        <!--</div>-->


    </div>

    <div class="col-xs-12 col-sm-4 right-nav">

        <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading" style="font-variant:small-caps;font-size: 18px;">Modules</div>
            <ol class="list-group">
                <li><a href="lesson1.html">Project Setup/PhoneGap Tooling</a></li>
                <li><a href="lesson2.html">App Walkthru</a></li>
                <li><a href="lesson3.html">Detecting Offline</a></li>
                <li><a href="lesson4.html">Searchbar Filter</a></li>
                <li><a href="lesson5.html">Add Swipeout Action</a></li>
                <li><a href="lesson6.html">Add Native Share Feature</a></li>
                <li><a href="lesson7.html">Making Your App Feel Native</a></li>
                <li><a href="lesson8.html">Configuring Your App</a></li>
                <li><a href="lesson9.html">Next Steps</a></li>
                <li><a href="lesson10.html">Optional: Remote Debugging</a></li>
            </ol>
            <p></p>
        </div>

<a href="https://twitter.com/share" class="twitter-share-button" data-size="large"
   data-url="http://hollyschinsky.github.io/phonegap-workshop"
   data-text="PhoneGap Tutorial #Cordova #PhoneGap">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<a href="https://twitter.com/devgirlfl" class="twitter-follow-button" data-show-count="true"
   data-size="large" data-lang="en">Follow
    @devgirlfl</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

    </div>

</div>

</div>

<div class="container">
    <div id="footer">
        <a href="http://devgirl.org"><p class="text-muted">Holly Schinsky</p></a>
    </div>
</div>


<script src="lib/jquery.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>
</body>
</html>
