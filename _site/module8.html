<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../assets/ico/favicon.ico">

    <title>PhoneGap Day EU Workshop</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/styles.css" rel="stylesheet">



    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-72845162-1', 'auto');
        ga('send', 'pageview');

    </script>
</head>

<body>
<div class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">PhoneGap Day EU Essentials Workshop 2016</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a
                        href="https://github.com/hollyschinsky/spotify-browser"><img
                        src="images/icon-github.png" style="border: none;margin: -4px 0;height: 28px;width: 28px;"/>
                    GitHub
                    Project</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</div>


<div class="container">

<div class="row">

    <div class="col-xs-12 col-sm-8">
        <h1>Module 8&#58; Add Native Share Feature</h1>
        <!--<hr/>-->
        <p>In this module we’ll learn how to share a media item with a friend through messaging, email etc using the device’s native sharing features.</p>

<p><img class="screenshot-lg" src="images/share1.png" /> <br />
   <img class="screenshot-lg" src="images/share2.png" /></p>

<h3 id="steps">Steps</h3>
<p>Prior to this step we added the button for sharing on both the list and item detail views, however they don’t actually do anything yet.
In this module we’ll add event handling to allow them to use the Social Sharing plugin.</p>

<ol>
  <li>Open <code class="highlighter-rouge">my-app.js</code> and locate the page init event handler for the <em>list</em> page (<code class="highlighter-rouge">myApp.onPageInit('list')...</code>).</li>
  <li>
    <p>Add the following code to handle when a user clicks the share button on the swipeout. You can add it just after the preview handling:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $$(page.container).find('.share').on('click', function (e) {
          var item = page.context[this.dataset.item];
     
          if (window.plugins &amp;&amp; window.plugins.socialsharing) {
              window.plugins.socialsharing.share("Hey! My new favorite song is " + item.name + " check it out!",
                  'Check this out', item.album.images[2].url, item.preview_url,
                  function () {
                      console.log("Share Success")
                  },
                  function (error) {
                      console.log("Share fail " + error)
                  });
          }
          else myApp.alert("Share plugin not found");
  });
</code></pre>
    </div>
  </li>
  <li>
    <p>There’s also a share icon at the bottom of the item detail page we can implement in this step as well. In <code class="highlighter-rouge">my-app.js</code>, add the following block to handle <code class="highlighter-rouge">pageInit</code>
events for the media item detail page.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> // Media Item Page Handling
 myApp.onPageInit('media', function (page) {
     var item = page.context;
    
      $$(page.container).find('.share').on('click', function (e) {
         if (window.plugins &amp;&amp; window.plugins.socialsharing) {
             window.plugins.socialsharing.share("Hey! My new favorite song is " + item.name + " check it out!",
                 'Check this out', item.album.images[2].url, item.preview_url,
                 function () {
                     console.log("Share Success")
                 },
                 function (error) {
                     console.log("Share fail " + error)
                 });
         }
         else myApp.alert("Share plugin not found");
     });
 });
</code></pre>
    </div>

    <blockquote>
      <p>Notice how we can just set the item to the <code class="highlighter-rouge">page.context</code> value itself since it has already been selected and passed in for this view.</p>
    </blockquote>
  </li>
  <li>
    <p>There’s one more icon on the bottom left bar we could add handling for at this point too, the favorites (star) icon. Add another block into the <code class="highlighter-rouge">pageInit</code> handler
 for the media detail page:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $$(page.container).find('.favorite').on('click', function (e) {
     myApp.alert(item.name + ' added to favorites!');
 });
</code></pre>
    </div>
  </li>
  <li>Test the buttons to make sure you see the share features for your native device. Remember, this is a 3rd party plugin so you can only test this
feature if you’re running from the CLI locally.</li>
</ol>

<h3 id="dependencies">Dependencies</h3>

<p>-<a href="https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin">Social Sharing 3rd Party Plugin</a></p>

<div class="highlighter-rouge"><pre class="highlight"><code> $ phonegap plugin add cordova-plugin-x-socialsharing --save
</code></pre>
</div>

<p>If you’re using the CLI locally to build your app, you should add the required plugin shown above first. At the moment the PhoneGap Developer App does not include this plugin
  so if you’re using that to view and test the app then it will not work at this time.</p>

<p>It should look something like below when you run it:</p>

<p><img class="screenshot-lg" src="images/share1.png" />
   <img class="screenshot-lg" src="images/share2.png" /></p>

<blockquote>
  <p>The options shown here will depend on your particular devices’ native sharing options.</p>
</blockquote>

<div class="row" style="margin-top:40px;">
 <div class="col-sm-12">
 <a href="module7.html" class="btn btn-default"><i class="glyphicon glyphicon-chevron-left"></i> Previous</a>
 <a href="module9.html" class="btn btn-default pull-right">Next <i class="glyphicon glyphicon-chevron-right"></i></a>
 </div>
</div>




        <!--<div class="row" style="margin-top: 30px;">-->
            <!--<div class="col-xs-12">-->
                <!--<div id="disqus_thread"></div>-->
                <!--<script type="text/javascript">-->
                    <!--/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */-->
                    <!--var disqus_shortname = 'salesforcedeveloperworkshop'; // required: replace example with your forum shortname-->

                    <!--/* * * DON'T EDIT BELOW THIS LINE * * */-->
                    <!--(function() {-->
                        <!--var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;-->
                        <!--dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';-->
                        <!--(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);-->
                    <!--})();-->
                <!--</script>-->
                <!--<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>-->
                <!--<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>-->
            <!--</div>-->
        <!--</div>-->


    </div>

    <div class="col-xs-12 col-sm-4 right-nav">

        <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading" style="font-variant:small-caps;font-size: 18px;">Modules</div>
            <ol class="list-group">
                <li><a href="lesson1.html">Project Setup/PhoneGap Tooling</a></li>
                <li><a href="lesson2.html">App Structure Review</a></li>
                <li><a href="lesson3.html">Local Storage/Offline Handling</a></li>
                <li><a href="lesson4.html">Add Searchbar</a></li>
                <li><a href="lesson5.html">Making Your App Feel Native</a></li>
                <li><a href="lesson8.html">Add Swipeouts</a></li>
                <li><a href="lesson7.html">Add Native Share Feature</a></li>
                <li><a href="lesson6.html">Configuring Your App</a></li>
                <li><a href="lesson10.html">Next Steps</a></li>
            </ol>
            <p></p>
        </div>

<a href="https://twitter.com/share" class="twitter-share-button" data-size="large"
   data-url="http://hollyschinsky.github.io/phonegap-workshop"
   data-text="PhoneGap Tutorial #Cordova #PhoneGap">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<a href="https://twitter.com/devgirlfl" class="twitter-follow-button" data-show-count="true"
   data-size="large" data-lang="en">Follow
    @devgirlfl</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

    </div>

</div>

</div>

<div class="container">
    <div id="footer">
        <a href="http://devgirl.org"><p class="text-muted">Holly Schinsky</p></a>
    </div>
</div>


<script src="lib/jquery.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>
</body>
</html>
